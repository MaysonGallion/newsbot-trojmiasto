# Architecture (MVP) — человеческими словами

Что делает проект:
1) Берём новости из RSS/Atom-лент по Trójmiasto (Gdańsk/Gdynia/Sopot).
2) Отсеиваем лишнее по словам и географии.
3) Убираем повторы по URL.
4) Собираем короткое описание (шаблон).
5) Публикуем в Telegram с ограничением частоты.

Поток данных (цепочка):
RSS/Atom → [sources] парсит и нормализует → [pipeline] фильтрует/дедупит/ставит в очередь → [textgen] готовит текст → [bot] отправляет в TG → [db] помечает «опубликовано».

Что такое одна новость (NewsItem):
- title: заголовок (строка)
- link: ссылка на статью (уникальная)
- summary: короткий анонс (может быть пустым)
- published_ts: время публикации в UNIX (если нет — подставим эвристику)
- image_url: ссылка на картинку (если валидна; может быть пусто)
- source: название издания (например, “Gdańsk.pl”)
- source_domain: домен источника (например, gdansk.pl)
- lang: язык записи (на будущее; RU/UA/PL)

Модульные роли:
- app/sources: читает все RSS из config/sources.yaml и выдаёт список NewsItem.
- app/pipeline: фильтр ключевых слов/городов, окно давности, дедуп по URL, очередь публикаций.
- app/textgen: шаблонное описание + хэштеги + «Источник: ...».
- app/bot: отправка в Telegram (фото если валидно; иначе текст).
- app/db: SQLite-таблица posts(url UNIQUE, title, ts_published, source, image_url, ts_posted).
